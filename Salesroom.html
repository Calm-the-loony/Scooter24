<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>salesroom</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick.css"/>
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick-theme.css"/>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick.min.js"></script>
</head>
<body onscroll="scrollHandler(event)">

    <header class="header" id="header">
        <div id="parallelogram">
            <span class="logo-text">LOGO</span>
        </div>
        <div class="menu-icon" onclick="toggleMenu()" id="menu-toggle-button">&#9776;</div> 
        <div class="action-container"> 
          <div class="search-bar">
            <input type="text" id="text-to-find" value="">
            <button onclick="FindOnPage('text-to-find')">Поиск</button>
        </div>
        
            <div class="user-actions">
              <button id="favorite-button">
                  <img src="image/favorite.png" alt="Избранное">
                  <span id="favorite-count">0</span>
              </button>
              <button id="scooter-button"><img src="image/scooter.png" alt="Модель скутера"></button>
              <button id="cart-button">
                <img src="image/cart.png" alt="Корзина">
                <span id="cart-count">0</span>
            </button>
          </div>
        </div>
        <div class="submenu">
            <ul>
                <li><a href="#">Личный кабинет</a></li>
                <li><a href="#">Контакты</a></li>
                <li><a href="#">Экипировка</a></li>
                <li><a href="#">Запчасти</a></li>
                <li><a href="#">Расходники</a></li>
            </ul>
        </div>
    </header>
    <div id="favorites-modal" class="modal">
        <div class="modal-contents">
          <span class="close" id="favorites-close">&times;</span>
          <h2>Избранное</h2>
          <table id="favorite-list">
            <thead>
              <tr>
                <th>Изображение</th>
                <th>Название товара</th>
                <th>Цена за штуку</th>
                <th>Наличие на складе</th>
                <th>Действия</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    
      <div id="cart-modal" class="modal">
          <div class="modal-contents">
            <span class="close" onclick="toggleCartModal()">&times;</span>
            <h2>Корзина</h2>
            <table id="cart-list">
              <thead>
                <tr>
                  <th>Изображение</th>
                  <th>Название</th>
                  <th>Цена</th>
                  <th>Количество</th>
                  <th>Действия</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
            <div class="cart-total">
              <p>Итого: <span id="total-price">$0.00</span></p>
              <button class="buy-button" onclick="buyItems()">Купить</button>
            </div>
          </div>
        </div>
    
        <div id="scooter-modal" class="modal">
          <div class="modal-contents">
              <span class="close" id="scooter-modal-close">&times;</span>
              <h2>Выберите модель скутера</h2>
              <form id="scooter-form">
                  <label for="scooter-type">Тип скутера:</label>
                  <select id="scooter-type">
                      <option value="electric">Электрический</option>
                      <option value="gas">Бензиновый</option>
                  </select>
                  <br>
                  <label for="scooter-manufacturer">Производитель:</label>
                  <select id="scooter-manufacturer">
                      <option value="yamaha">Yamaha</option>
                      <option value="honda">Honda</option>
                      <option value="vespa">Vespa</option>
                  </select>
                  <br>
                  <label for="scooter-model">Модель:</label>
                  <select id="scooter-model">
                      <option value="model1">Модель 1</option>
                      <option value="model2">Модель 2</option>
                      <option value="model3">Модель 3</option>
                  </select>
                  <br>
                  <button type="button" id="add-scooter">Добавить</button>
              </form>
              <div id="scooter-details" style="display: none;">
                  <h3>Выбранная модель скутера:</h3>
                  <p id="scooter-type-display"></p>
                  <p id="scooter-manufacturer-display"></p>
                  <p id="scooter-model-display"></p>
                  <img id="scooter-image" src="image/scooter.png" alt="Фото скутера">
              </div>
              <p>Имея учетную запись клиента, вы можете навсегда сохранить несколько автомобилей и изменить их в любое время.</p>
              <button id="login-button">Авторизация</button>
          </div>
      </div>    

      <script>
        function setupScooterModal() {
            const scooterButton = document.getElementById('scooter-button');
            const scooterModal = document.getElementById('scooter-modal');
            const scooterModalClose = document.getElementById('scooter-modal-close');
            const addScooterButton = document.getElementById('add-scooter');
            const loginButton = document.getElementById('login-button');
          
            scooterButton.addEventListener('click', () => {
              scooterModal.style.display = 'block';
            });
          
            scooterModalClose.addEventListener('click', () => {
              scooterModal.style.display = 'none';
            });
          
            window.addEventListener('click', (event) => {
              if (event.target === scooterModal) {
                scooterModal.style.display = 'none';
              }
            });
          
            addScooterButton.addEventListener('click', () => {
              const type = document.getElementById('scooter-type').value;
              const manufacturer = document.getElementById('scooter-manufacturer').value;
              const model = document.getElementById('scooter-model').value;
              alert(`Добавлен скутер: Тип - ${type}, Производитель - ${manufacturer}, Модель - ${model}`);
              scooterModal.style.display = 'none';
            });
          
            loginButton.addEventListener('click', () => {
              // Перенаправление на страницу авторизации или открытие модального окна авторизации
              alert('Перенаправление на страницу авторизации');
            });
          }
          
          // Вызываем функцию setupScooterModal после загрузки контента страницы
          document.addEventListener('DOMContentLoaded', setupScooterModal);
          
          addScooterButton.addEventListener('click', () => {
            const type = document.getElementById('scooter-type').value;
            const manufacturer = document.getElementById('scooter-manufacturer').value;
            const model = document.getElementById('scooter-model').value;
        
            // Обновляем данные в блоке scooter-details
            document.getElementById('scooter-type-display').textContent = `Тип: ${type}`;
            document.getElementById('scooter-manufacturer-display').textContent = `Производитель: ${manufacturer}`;
            document.getElementById('scooter-model-display').textContent = `Модель: ${model}`;
            document.getElementById('scooter-image').src = `image/scooter_${type}_${manufacturer}_${model}.png`;
        
            // Отображаем блок scooter-details
            document.getElementById('scooter-details').style.display = 'block';
        
            // Закрываем модальное окно
            scooterModal.style.display = 'none';
        });
          </script>
          <script>let favorites = JSON.parse(localStorage.getItem('favorites')) || [];
          let cart = JSON.parse(localStorage.getItem('cart')) || [];
          
          const favoriteButton = document.getElementById('favorite-button');
          const favoriteCount = document.getElementById('favorite-count');
          const favoriteList = document.querySelector('#favorite-list tbody');
          const favoritesModal = document.getElementById('favorites-modal');
          const favoritesClose = document.getElementById('favorites-close');
          
          const cartButton = document.getElementById('cart-button');
          const cartCount = document.getElementById('cart-count');
          const cartList = document.querySelector('#cart-list tbody');
          const cartModal = document.getElementById('cart-modal');
          const cartClose = document.getElementById('cart-close');
          
          function saveFavorites() {
              localStorage.setItem('favorites', JSON.stringify(favorites));
          }
          
          function saveCart() {
              localStorage.setItem('cart', JSON.stringify(cart));
          }
          
          function toggleFavorite(button) {
              const productCard = button.closest('.product-card');
              const productId = productCard.getAttribute('data-id');
              const product = {
                  id: productId,
                  discount: productCard.querySelector('.discount')?.innerText,
                  image: productCard.querySelector('img').src,
                  category: productCard.querySelector('.category').innerText,
                  name: productCard.querySelector('.name').innerText,
                  price: productCard.querySelector('.discounted-price')?.innerText ||
                         productCard.querySelector('.original-price')?.innerText ||
                         productCard.querySelector('.original-prices')?.innerText,
                  stock: productCard.getAttribute('data-stock')
              };
          
              const index = favorites.findIndex(item => item.id === productId);
          
              if (index > -1) {
                  favorites.splice(index, 1);
                  button.querySelector('i').classList.remove('active');
              } else {
                  favorites.push(product);
                  button.querySelector('i').classList.add('active');
              }
          
              favoriteCount.innerText = favorites.length;
              updateFavoriteList();
              saveFavorites();
          }
          
          function updateFavoriteList() {
              favoriteList.innerHTML = '';
              favorites.forEach(product => {
                  const tr = document.createElement('tr');
                  tr.innerHTML = `
                      <td><img src="${product.image}" alt="${product.name}" class="favorite-product-image"></td>
                      <td>${product.name}</td>
                      <td>${product.price}</td>
                      <td>${product.stock}</td>
                      <td>
                          <button class="add-to-cart" onclick="addToCartFromFavorites('${product.id}')">Добавить в корзину</button>
                          <button class="remove-from-favorites" onclick="removeFromFavorites('${product.id}')">Удалить</button>
                      </td>
                  `;
                  favoriteList.appendChild(tr);
              });
          }
          
          function removeFromFavorites(productId) {
              favorites = favorites.filter(item => item.id !== productId);
              const productCard = document.querySelector(`.product-card[data-id="${productId}"] .add-to-favorites i`);
              if (productCard) {
                  productCard.classList.remove('active');
              }
              favoriteCount.innerText = favorites.length;
              updateFavoriteList();
              saveFavorites();
          }
          
          function toggleModal(modal) {
              modal.style.display = modal.style.display === 'block' ? 'none' : 'block';
          }
          
          favoriteButton.addEventListener('click', () => toggleModal(favoritesModal));
          favoritesClose.addEventListener('click', () => toggleModal(favoritesModal));
          cartButton.addEventListener('click', () => toggleModal(cartModal));
          cartClose.addEventListener('click', () => toggleModal(cartModal));
          
          window.addEventListener('click', function(event) {
              if (event.target === favoritesModal) {
                  toggleModal(favoritesModal);
              }
              if (event.target === cartModal) {
                  toggleModal(cartModal);
              }
          });
          
          function toggleCart(button) {
              const productCard = button.closest('.product-card');
              const productId = productCard.getAttribute('data-id');
              const product = {
                  id: productId,
                  image: productCard.querySelector('img').src,
                  name: productCard.querySelector('.name').innerText,
                  price: productCard.querySelector('.discounted-price')?.innerText ||
                         productCard.querySelector('.original-price')?.innerText ||
                         productCard.querySelector('.original-prices')?.innerText,
                  quantity: 1
              };
          
              const index = cart.findIndex(item => item.id === productId);
          
              if (index > -1) {
                  cart[index].quantity += 1;
              } else {
                  cart.push(product);
              }
          
              cartCount.innerText = cart.length;
              updateCartList();
              saveCart();
          }
          
          function addToCartFromFavorites(productId) {
              const product = favorites.find(item => item.id === productId);
              toggleCart(document.querySelector(`.product-card[data-id="${productId}"] .add-to-cart`));
          }
          
          function updateCartList() {
              cartList.innerHTML = '';
              cart.forEach(product => {
                  const tr = document.createElement('tr');
                  tr.innerHTML = `
                      <td><img src="${product.image}" alt="${product.name}" class="cart-product-image"></td>
                      <td>${product.name}</td>
                      <td class="cart-item-price">${product.price}</td>
                      <td>
                          <button class="quantity-change" onclick="changeQuantity('${product.id}', -1)">-</button>
                          <span class="cart-item-quantity">${product.quantity}</span>
                          <button class="quantity-change" onclick="changeQuantity('${product.id}', 1)">+</button>
                      </td>
                      <td>
                          <button class="remove-from-cart" onclick="removeFromCart('${product.id}')">Удалить</button>
                      </td>
                  `;
                  cartList.appendChild(tr);
              });
          }
          
          function changeQuantity(productId, delta) {
              const index = cart.findIndex(item => item.id === productId);
              if (index > -1) {
                  cart[index].quantity += delta;
                  if (cart[index].quantity <= 0) {
                      cart.splice(index, 1);
                  }
              }
              updateCartList();
              saveCart();
              updateTotalPrice();
          }
          
          function removeFromCart(productId) {
              cart = cart.filter(item => item.id !== productId);
              cartCount.innerText = cart.length;
              updateCartList();
              saveCart();
              updateTotalPrice();
          }
          
          function updateTotalPrice() {
              let totalPrice = 0;
              cart.forEach(product => {
                  const price = parseFloat(product.price.replace('$', ''));
                  totalPrice += price * product.quantity;
              });
              document.getElementById('total-price').innerText = '$' + totalPrice.toFixed(2);
          }
          
          function buyItems() {
              alert('Оплата произведена, теперь у вас нет денег и нет товара 🤡');
              cart = [];
              cartCount.innerText = cart.length;
              updateCartList();
              saveCart();
              updateTotalPrice();
              toggleCartModal();
          }
          
          function toggleCartModal() {
              cartModal.style.display = cartModal.style.display === 'block' ? 'none' : 'block';
          }
          
          cartButton.addEventListener('click', toggleCartModal);
          cartClose.addEventListener('click', toggleCartModal);
          
          window.addEventListener('click', function(event) {
              if (event.target === cartModal) {
                  toggleCartModal();
              }
          });
          
          document.addEventListener('DOMContentLoaded', () => {
              favoriteCount.innerText = favorites.length;
              cartCount.innerText = cart.length;
              updateFavoriteList();
              updateCartList();
              updateTotalPrice();
          
              // Обновление состояния кнопок на карточках товаров при загрузке страницы
              document.querySelectorAll('.product-card').forEach(card => {
                  const productId = card.getAttribute('data-id');
                  if (favorites.find(item => item.id === productId)) {
                      card.querySelector('.add-to-favorites i').classList.add('active');
                  }
                  if (cart.find(item => item.id === productId)) {
                      // Примените нужные изменения, если необходимо для корзины
                  }
              });
          });
          
            
            </script>
          
          <main class="pay">    
            <div class="container salesroom-container">
                <h1>Торговое Помещение</h1>
        
                <!-- Фотографии помещения -->
                <div class="salesroom-images">
                    <div class="large-images">
                        <img src="image/stroitelstvo-skladov-zapchastey-rsholod-3.jpg" alt="Salesroom Image Large"  class="large-image">
                    </div>
                    <div class="small-images">
                        <img src="image/sto_sklad.jpg" alt="Salesroom Image Small 1" class="small-image">
                        <img src="image/sto_sklad2.jpg" alt="Salesroom Image Small 2" class="small-image">
                    </div>
                </div>
        
                <!-- График работы -->
                <div class="work-hours">
                    <h2>График работы</h2>
                    <ul class="list-group">
                        <li class="list-group-item">Понедельник: 9:00 - 18:00</li>
                        <li class="list-group-item">Вторник: 9:00 - 18:00</li>
                        <li class="list-group-item">Среда: 9:00 - 18:00</li>
                        <li class="list-group-item">Четверг: 9:00 - 18:00</li>
                        <li class="list-group-item">Пятница: 9:00 - 18:00</li>
                        <li class="list-group-item">Суббота: 10:00 - 16:00</li>
                        <li class="list-group-item">Воскресенье: Закрыто</li>
                    </ul>
                </div>
        
                <!-- Способы оплаты -->
                <div class="payment-methods">
                    <h2>Способы оплаты</h2>
                    <ul class="list-group">
                        <li class="list-group-item">Наличные</li>
                        <li class="list-group-item">Кредитные карты</li>
                        <li class="list-group-item">Банковские переводы</li>
                        <li class="list-group-item">Электронные кошельки</li>
                    </ul>
                </div>
        
                <div id="map" class="map"></div>
            </div>
        
            <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
            <script>
                var map = L.map('map').setView([47.2313, 39.7233], 13); // Координаты для Ростова-на-Дону
        
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                }).addTo(map);
        
                L.marker([47.2313, 39.7233]).addTo(map)
                    .bindPopup('Торговое помещение.<br> Ул. Мечникова 35')
                    .openPopup();
            </script>
            <a href="index.html" class="back-to-main">Вернуться на главную страницу</a>
        </main>


<footer class="footer">
    <div class="footer-section">
      <h4 class="yellow-text">НОВОСТНАЯ РАССЫЛКА</h4>
      <p>Получайте последние новости, специальные предложения и купоны через <br>электронную почту! Вы можете отменить подписку в любое время.</p>
      <form action="#" class="subscribe-form">
        <input type="email" placeholder="Your email">
        <button type="submit" class="subscribe-button">Подписаться</button>
      </form>  
      <h4 class="yellow-text">КОД КУПОНА</h4>
      <p>Проверьте <span class="highlights">все текущие коды купонов</span> на странице.</p>
    </div>
    <div>
      <hr class="divider">
    </div>
    <div class="footer-section">
      <h3 class="yellow-text">FAQ</h3>
      <h4 onclick="showModal()">Контакты</h4> <!-- Либо ссылка на сторонний источник -->
      <h4><a href="pay.html">Способы оплаты</a></h4>
      <h4><a href="delivery.html">Доставка</a></h4>
      <h4><a href="return.html">Возвраты</a></h4>
      <h4><a href="Salesroom.html">Торговое помещение</a></h4>
  </div>    
    <div>
      <hr class="divider">
    </div>
    <div class="footer-section">
      <h3 class="yellow-text">INFO</h3>
      <h4><a href="legal.html">Официальное уведомление</a></h4>
      <h4><a href="dataprotection.html">Защита данных</a></h4>
      <h4><a href="revocation.html">Право отзыва</a></h4>
      <h4><a href="jobs.html">Работа</a></h4>
      <h4><a href="techtips.html">Технические советы и руководства</a></h4>
      <h4><a href="brands.html">Бренды</a></h4>
      <h3 class="yellow-text">Social</h3>
      <div class="social-icons">
        <a href="https://telegram.example.com" class="social-icon">
            <i class="fab fa-telegram"></i>
        </a>
        <a href="https://whatsapp.example.com" class="social-icon">
            <i class="fab fa-whatsapp"></i>
        </a>
        <a href="https://www.wildberries.ru/brands/scooters" class="social-icon">
            <img src="image/круг.png" alt="Image 1" class="social-image">
        </a>
        <a href="https://www.ozon.ru/seller/scooter24-462340/products/?miniapp=seller_462340" class="social-icon">
            <img src="image/круг2.png" alt="Image 2" class="social-image">
        </a>
    </div>
    </div>    
  </footer>


  <script src="script.js"></script>
</body>
</html>
